"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[661],{4196:function(t,e,n){n.d(e,{Z:function(){return u}});var r=n(7437),i=n(9376);function u(t){let{title:e,showBack:n,rightAction:u}=t,o=(0,i.useRouter)();return(0,r.jsxs)("header",{className:"page-header",children:[(0,r.jsx)("div",{className:"page-header-left",children:n&&(0,r.jsx)("button",{className:"page-header-back",onClick:()=>o.back(),"aria-label":"Go back",children:(0,r.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,r.jsx)("polyline",{points:"15 18 9 12 15 6"})})})}),(0,r.jsx)("h1",{className:"page-header-title",children:e}),(0,r.jsx)("div",{className:"page-header-right",children:u||null})]})}},3583:function(t,e,n){n.d(e,{ToastProvider:function(){return a},p:function(){return o}});var r=n(7437),i=n(2265);let u=(0,i.createContext)(null);function o(){let t=(0,i.useContext)(u);if(!t)throw Error("useToast must be used within a ToastProvider");return t}function c(t){let{toast:e,onRemove:n}=t,[u,o]=(0,i.useState)(!1),c=(0,i.useRef)(null);(0,i.useEffect)(()=>(c.current=setTimeout(()=>{o(!0),setTimeout(()=>n(e.id),300)},3e3),()=>{c.current&&clearTimeout(c.current)}),[e.id,n]);let a="toast-".concat(e.type);return(0,r.jsxs)("div",{className:"toast-item ".concat(a," ").concat(u?"toast-exit":"toast-enter"),children:[(0,r.jsx)("span",{className:"toast-message",children:e.message}),(0,r.jsx)("button",{className:"toast-dismiss",onClick:()=>{o(!0),setTimeout(()=>n(e.id),300)},"aria-label":"Dismiss",children:(0,r.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,r.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})}function a(t){let{children:e}=t,[n,o]=(0,i.useState)([]),a=(0,i.useCallback)(t=>{o(e=>e.filter(e=>e.id!==t))},[]),s=(0,i.useCallback)(function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n="".concat(Date.now(),"-").concat(Math.random().toString(36).substring(2,9));o(r=>[...r,{id:n,message:t,type:e}])},[]);return(0,r.jsxs)(u.Provider,{value:{showToast:s},children:[e,(0,r.jsx)("div",{className:"toast-container",children:n.map(t=>(0,r.jsx)(c,{toast:t,onRemove:a},t.id))})]})}},308:function(t,e,n){n.d(e,{Lc:function(){return l},Rq:function(){return s},Ti:function(){return c},c4:function(){return a},mn:function(){return u},mr:function(){return o},o1:function(){return d},p6:function(){return i}});let r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function i(t){let[e,n,i]=t.split("-").map(Number);return e&&n&&i?"".concat(r[n-1]," ").concat(i,", ").concat(e):t}function u(t){let[,e,n]=t.split("-").map(Number);return e&&n?"".concat(r[e-1]," ").concat(n):t}function o(t){let e,n;if(t.includes("T")){let r=new Date(t);e=r.getHours(),n=r.getMinutes()}else{var r,i;let u=t.split(":").map(Number);e=null!==(r=u[0])&&void 0!==r?r:0,n=null!==(i=u[1])&&void 0!==i?i:0}let u=e>=12?"PM":"AM",o=e%12||12,c=String(n).padStart(2,"0");return"".concat(o,":").concat(c," ").concat(u)}function c(t,e){let n=new Date(t);return Math.floor(Math.abs(new Date(e).getTime()-n.getTime())/864e5)}function a(t){return t<6?"#22c55e":t<7?"#eab308":t<9?"#f97316":"#ef4444"}function s(t){return t<=2?"#22c55e":t<=4?"#84cc16":t<=6?"#eab308":t<=8?"#f97316":"#ef4444"}function l(t){return t<1?"<1 mg":"".concat(Math.round(t)," mg")}function d(t){let e=[],n=new Date;for(let r=t-1;r>=0;r--){let t=new Date(n);t.setDate(n.getDate()-r),e.push(function(t){let e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return"".concat(e,"-").concat(n,"-").concat(r)}(t))}return e}},7795:function(t,e,n){n.d(e,{$$:function(){return O},AB:function(){return h},Ai:function(){return l},B0:function(){return _},C6:function(){return k},CE:function(){return I},Cg:function(){return b},E6:function(){return S},Gg:function(){return m},H1:function(){return x},HS:function(){return E},Ii:function(){return d},JB:function(){return T},JQ:function(){return N},Me:function(){return C},Op:function(){return R},Ox:function(){return c},RM:function(){return w},UA:function(){return D},_G:function(){return a},_X:function(){return L},mz:function(){return A},pI:function(){return g},tG:function(){return v},uP:function(){return p}});let r={DAILY_LOGS:"goutguard_daily_logs",URIC_ACID:"goutguard_uric_acid",FLARES:"goutguard_flares",MEDICATIONS:"goutguard_medications",PROFILE:"goutguard_profile",SCANS:"goutguard_scans",SCAN_COUNT:"goutguard_scan_count",FAVORITES:"goutguard_favorites",SAVED_MEALS:"goutguard_saved_meals"};function i(){try{let t="__goutguard_test__";return window.localStorage.setItem(t,"1"),window.localStorage.removeItem(t),!0}catch(t){return!1}}function u(t,e){if(!i())return e;try{let n=localStorage.getItem(t);if(null===n)return e;return JSON.parse(n)}catch(t){return e}}function o(t,e){if(i())try{localStorage.setItem(t,JSON.stringify(e))}catch(t){}}function c(){return"".concat(Date.now().toString(36),"_").concat(Math.random().toString(36).substring(2,9))}function a(){let t=new Date,e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return"".concat(e,"-").concat(n,"-").concat(r)}let s={goutStage:"",medications:[],allergies:[],dietaryRestrictions:[],dailyPurineTarget:400,waterIntakeGoal:64,theme:"system",notificationsEnabled:!0,waterReminders:!0,waterReminderInterval:2,waterReminderStartTime:"08:00",waterReminderEndTime:"20:00",purineReminders:!0,purineReminderTime:"19:00",uricAcidReminders:!0,uricAcidReminderInterval:"weekly",uricAcidReminderDay:1,uricAcidReminderTime:"09:00",flareReminders:!0,flareReminderTime:"20:00",medicationReminders:!0};function l(){return u(r.PROFILE,{...s})}function d(t){o(r.PROFILE,t)}function f(){return u(r.DAILY_LOGS,{})}function g(t){var e;return null!==(e=f()[t])&&void 0!==e?e:{date:t,foods:[],totalPurines:0,waterIntake:0,medications:[]}}function m(t){let e=f();e[t.date]=t,o(r.DAILY_LOGS,e)}function S(t,e){let n=g(t);n.foods.push(e),n.totalPurines=n.foods.reduce((t,e)=>t+e.purineContent,0),m(n)}function h(){return u(r.URIC_ACID,[])}function p(t){let e=h();e.push(t),e.sort((t,e)=>e.date.localeCompare(t.date)),o(r.URIC_ACID,e)}function A(t){let e=h().filter(e=>e.id!==t);o(r.URIC_ACID,e)}function C(){return u(r.FLARES,[])}function _(t){let e=C();e.push(t),e.sort((t,e)=>e.date.localeCompare(t.date)),o(r.FLARES,e)}function I(t){let e=C().map(e=>e.id===t.id?t:e);o(r.FLARES,e)}function N(t){let e=C().filter(e=>e.id!==t);o(r.FLARES,e)}function R(){return u(r.MEDICATIONS,[])}function v(t){let e=R();e.push(t),o(r.MEDICATIONS,e)}function D(t){let e=R().map(e=>e.id===t.id?t:e);o(r.MEDICATIONS,e)}function T(t){let e=R().filter(e=>e.id!==t);o(r.MEDICATIONS,e)}function w(t){let e=g(a());e.medications.push(t),m(e)}function E(){return u(r.SCANS,[])}function x(t){let e=E();e.unshift(t),e.length>50&&(e.length=50),o(r.SCANS,e)}function O(){let t=u(r.SCAN_COUNT,{date:"",count:0});return t.date!==a()?0:t.count}function b(){let t=a(),e=u(r.SCAN_COUNT,{date:"",count:0});e.date!==t?o(r.SCAN_COUNT,{date:t,count:1}):o(r.SCAN_COUNT,{date:t,count:e.count+1})}function k(){return{profile:l(),dailyLogs:f(),uricAcidReadings:h(),flares:C(),medications:R(),scanRecords:E(),savedMeals:u(r.SAVED_MEALS,[]),favorites:u(r.FAVORITES,[]),exportedAt:new Date().toISOString()}}function L(){i()&&Object.values(r).forEach(t=>{try{localStorage.removeItem(t)}catch(t){}})}}}]);
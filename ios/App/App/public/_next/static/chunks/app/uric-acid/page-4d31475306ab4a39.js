(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[638],{4806:function(e,t,n){Promise.resolve().then(n.bind(n,8865))},8865:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return k}});var r=n(7437),i=n(2265),o=n(1436),l=n(1385),s=n(6940),a=n(7059),d=n(2994),c=n(7719),x=n(1655),p=n(6948),h=n(4196);function u(e){let{isOpen:t,onClose:n,title:o,children:l}=e,s=(0,i.useRef)(null);return((0,i.useEffect)(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[t]),(0,i.useEffect)(()=>{let e=e=>{"Escape"===e.key&&n()};return t&&window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[t,n]),t)?(0,r.jsx)("div",{className:"modal-overlay",ref:s,onClick:e=>{e.target===s.current&&n()},role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:(0,r.jsxs)("div",{className:"modal-card",children:[(0,r.jsxs)("div",{className:"modal-header",children:[(0,r.jsx)("h2",{id:"modal-title",className:"modal-title",children:o}),(0,r.jsx)("button",{className:"modal-close",onClick:n,"aria-label":"Close modal",children:(0,r.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,r.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),(0,r.jsx)("div",{className:"modal-content",children:l})]})}):null}var f=n(3583),g=n(7795),y=n(308);function b(e){return e<6?"On Target":e<7?"Borderline":e<9?"Elevated":"High"}function m(e){let{active:t,payload:n}=e;if(!t||!n||!n.length)return null;let i=n[0].payload;return(0,r.jsxs)("div",{style:j.container,children:[(0,r.jsx)("p",{style:j.date,children:(0,y.p6)(i.date)}),(0,r.jsxs)("p",{style:{...j.value,color:i.color},children:[i.value.toFixed(1)," mg/dL"]}),(0,r.jsx)("p",{style:j.status,children:i.status})]})}let j={container:{background:"var(--background, #fff)",border:"1px solid #e2e8f0",borderRadius:"8px",padding:"10px 14px",boxShadow:"0 2px 8px rgba(0,0,0,0.12)",fontSize:"13px"},date:{margin:0,fontWeight:600,color:"var(--foreground, #171717)"},value:{margin:"4px 0 0",fontWeight:700,fontSize:"15px"},status:{margin:"2px 0 0",color:"#64748b",fontSize:"12px"}};function v(e){let{cx:t,cy:n,payload:i}=e;return null==t||null==n?null:(0,r.jsx)("circle",{cx:t,cy:n,r:5,fill:i.color,stroke:"#fff",strokeWidth:2})}function k(){let{showToast:e}=(0,f.p)(),[t,n]=(0,i.useState)([]),[j,k]=(0,i.useState)(!1),[C,L]=(0,i.useState)("6M"),[w,z]=(0,i.useState)(null),[W,T]=(0,i.useState)((0,g._G)()),[M,B]=(0,i.useState)(""),[D,R]=(0,i.useState)(""),[A,N]=(0,i.useState)("");(0,i.useEffect)(()=>{n((0,g.AB)())},[]);let I=t.length>0?t[0]:null,V=(0,i.useMemo)(()=>{let e=function(e){if("ALL"===e)return null;let t=new Date;switch(e){case"1M":t.setMonth(t.getMonth()-1);break;case"3M":t.setMonth(t.getMonth()-3);break;case"6M":t.setMonth(t.getMonth()-6);break;case"1Y":t.setFullYear(t.getFullYear()-1)}return t}(C);if(!e)return t;let n=e.toISOString().slice(0,10);return t.filter(e=>e.date>=n)},[t,C]),E=(0,i.useMemo)(()=>[...V].reverse().map(e=>({date:e.date,dateLabel:(0,y.mn)(e.date),value:e.value,color:(0,y.c4)(e.value),status:b(e.value)})),[V]),F=(0,i.useMemo)(()=>{if(0===t.length)return null;let e=t.map(e=>e.value),n=e.reduce((e,t)=>e+t,0)/e.length,r=Math.round(e.filter(e=>e<6).length/e.length*100),i=function(e){if(e.length<3)return"stable";let t=e.slice(0,Math.min(e.length,5)),n=Math.ceil(t.length/2),r=t.slice(0,n).reduce((e,t)=>e+t.value,0)/n-t.slice(n).reduce((e,t)=>e+t.value,0)/(t.length-n);return r<-.3?"improving":r>.3?"worsening":"stable"}(t);return{avg:n,min:Math.min(...e),max:Math.max(...e),count:t.length,onTargetPct:r,trend:i}},[t]),U=(0,i.useCallback)(()=>{T((0,g._G)()),B(""),R(""),N("")},[]),H=(0,i.useCallback)(()=>{U(),k(!0)},[U]),_=(0,i.useCallback)(()=>{let t=parseFloat(M);if(isNaN(t)||t<0||t>20){N("Value must be a number between 0 and 20.");return}if(!W){N("Please select a date.");return}let r={id:(0,g.Ox)(),date:W,value:t,notes:D.trim()};(0,g.uP)(r),n((0,g.AB)()),k(!1),U(),e("Reading saved successfully","success")},[W,M,D,U,e]),O=(0,i.useCallback)(t=>{(0,g.mz)(t),n((0,g.AB)()),z(null),e("Reading deleted","info")},[e]);return(0,r.jsxs)("div",{style:S.page,children:[(0,r.jsx)(h.Z,{title:"Uric Acid Tracker",rightAction:(0,r.jsx)("button",{onClick:H,style:S.addButton,"aria-label":"Add reading",children:(0,r.jsxs)("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,r.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})}),(0,r.jsxs)("div",{style:S.content,children:[(0,r.jsx)("section",{style:S.heroSection,children:I?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{style:{...S.heroCircle,borderColor:(0,y.c4)(I.value),boxShadow:"0 0 20px ".concat((0,y.c4)(I.value),"33")},children:[(0,r.jsx)("span",{style:S.heroValue,children:I.value.toFixed(1)}),(0,r.jsx)("span",{style:S.heroUnit,children:"mg/dL"})]}),(0,r.jsx)("p",{style:{...S.heroStatus,color:(0,y.c4)(I.value)},children:b(I.value)}),(0,r.jsxs)("p",{style:S.heroDate,children:["Last reading: ",(0,y.p6)(I.date)]}),(0,r.jsx)("p",{style:S.heroTarget,children:"Goal: Below 6.0 mg/dL"})]}):(0,r.jsxs)("div",{style:S.emptyHero,children:[(0,r.jsxs)("div",{style:S.emptyCircle,children:[(0,r.jsx)("span",{style:S.emptyDash,children:"--"}),(0,r.jsx)("span",{style:S.heroUnit,children:"mg/dL"})]}),(0,r.jsx)("p",{style:S.emptyText,children:"No readings yet"}),(0,r.jsx)("button",{onClick:H,style:S.emptyAddButton,children:"Add your first reading"})]})}),t.length>0&&(0,r.jsxs)("section",{style:S.section,children:[(0,r.jsx)("h2",{style:S.sectionTitle,children:"Trend"}),(0,r.jsx)("div",{style:S.periodSelector,children:[{key:"1M",label:"1 Month"},{key:"3M",label:"3 Months"},{key:"6M",label:"6 Months"},{key:"1Y",label:"1 Year"},{key:"ALL",label:"All"}].map(e=>(0,r.jsx)("button",{onClick:()=>L(e.key),style:{...S.periodButton,...C===e.key?S.periodButtonActive:{}},children:e.label},e.key))}),E.length>0?(0,r.jsx)("div",{style:S.chartWrapper,children:(0,r.jsx)(o.h,{width:"100%",height:260,children:(0,r.jsxs)(l.w,{data:E,margin:{top:10,right:10,left:-10,bottom:0},children:[(0,r.jsx)(s.q,{strokeDasharray:"3 3",stroke:"#e2e8f040"}),(0,r.jsx)(a.K,{dataKey:"dateLabel",tick:{fontSize:11,fill:"#94a3b8"},tickLine:!1,axisLine:{stroke:"#e2e8f0"}}),(0,r.jsx)(d.B,{domain:["auto","auto"],tick:{fontSize:11,fill:"#94a3b8"},tickLine:!1,axisLine:{stroke:"#e2e8f0"},unit:" "}),(0,r.jsx)(c.u,{content:(0,r.jsx)(m,{})}),(0,r.jsx)(x.db,{y:6,stroke:"#22c55e",strokeDasharray:"6 3",label:{value:"Target 6.0",position:"insideTopRight",fill:"#22c55e",fontSize:11}}),(0,r.jsx)(x.db,{y:7,stroke:"#f97316",strokeDasharray:"6 3",label:{value:"Upper 7.0",position:"insideTopRight",fill:"#f97316",fontSize:11}}),(0,r.jsx)(p.x1,{type:"monotone",dataKey:"value",stroke:"#6366f1",strokeWidth:2,dot:(0,r.jsx)(v,{}),activeDot:{r:7,strokeWidth:2,stroke:"#fff"}})]})})}):(0,r.jsx)("p",{style:S.noDataText,children:"No readings in this time period."})]}),F&&(0,r.jsxs)("section",{style:S.section,children:[(0,r.jsx)("h2",{style:S.sectionTitle,children:"Statistics"}),(0,r.jsxs)("div",{style:S.statsGrid,children:[(0,r.jsxs)("div",{style:S.statCard,children:[(0,r.jsx)("span",{style:S.statLabel,children:"Average"}),(0,r.jsxs)("span",{style:S.statValue,children:[F.avg.toFixed(1),(0,r.jsx)("span",{style:S.statUnit,children:" mg/dL"})]})]}),(0,r.jsxs)("div",{style:S.statCard,children:[(0,r.jsx)("span",{style:S.statLabel,children:"Lowest"}),(0,r.jsxs)("span",{style:S.statValue,children:[F.min.toFixed(1),(0,r.jsx)("span",{style:S.statUnit,children:" mg/dL"})]})]}),(0,r.jsxs)("div",{style:S.statCard,children:[(0,r.jsx)("span",{style:S.statLabel,children:"Highest"}),(0,r.jsxs)("span",{style:S.statValue,children:[F.max.toFixed(1),(0,r.jsx)("span",{style:S.statUnit,children:" mg/dL"})]})]}),(0,r.jsxs)("div",{style:S.statCard,children:[(0,r.jsx)("span",{style:S.statLabel,children:"Readings"}),(0,r.jsx)("span",{style:S.statValue,children:F.count})]}),(0,r.jsxs)("div",{style:S.statCard,children:[(0,r.jsx)("span",{style:S.statLabel,children:"On Target"}),(0,r.jsxs)("span",{style:S.statValue,children:[F.onTargetPct,"%"]})]}),(0,r.jsxs)("div",{style:S.statCard,children:[(0,r.jsx)("span",{style:S.statLabel,children:"Trend"}),(0,r.jsx)("span",{style:{...S.statValue,color:"improving"===F.trend?"#22c55e":"worsening"===F.trend?"#ef4444":"#94a3b8"},children:"improving"===F.trend?"Improving":"worsening"===F.trend?"Worsening":"Stable"})]})]})]}),t.length>0&&(0,r.jsxs)("section",{style:S.section,children:[(0,r.jsx)("h2",{style:S.sectionTitle,children:"History"}),(0,r.jsx)("div",{style:S.historyList,children:t.map(e=>(0,r.jsxs)("div",{style:S.historyItem,children:[(0,r.jsxs)("div",{style:S.historyLeft,children:[(0,r.jsx)("span",{style:{...S.historyDot,backgroundColor:(0,y.c4)(e.value)}}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{style:S.historyValue,children:[e.value.toFixed(1)," mg/dL"]}),(0,r.jsx)("p",{style:S.historyDate,children:(0,y.p6)(e.date)}),e.notes&&(0,r.jsx)("p",{style:S.historyNotes,children:e.notes})]})]}),(0,r.jsx)("div",{style:S.historyRight,children:w===e.id?(0,r.jsxs)("div",{style:S.deleteConfirm,children:[(0,r.jsx)("span",{style:S.deleteConfirmText,children:"Delete?"}),(0,r.jsx)("button",{onClick:()=>O(e.id),style:S.deleteYes,"aria-label":"Confirm delete",children:"Yes"}),(0,r.jsx)("button",{onClick:()=>z(null),style:S.deleteNo,"aria-label":"Cancel delete",children:"No"})]}):(0,r.jsx)("button",{onClick:()=>z(e.id),style:S.deleteButton,"aria-label":"Delete reading",children:(0,r.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("polyline",{points:"3 6 5 6 21 6"}),(0,r.jsx)("path",{d:"M19 6l-1 14a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2L5 6"}),(0,r.jsx)("path",{d:"M10 11v6"}),(0,r.jsx)("path",{d:"M14 11v6"}),(0,r.jsx)("path",{d:"M9 6V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v2"})]})})})]},e.id))})]})]}),(0,r.jsx)(u,{isOpen:j,onClose:()=>k(!1),title:"Add Reading",children:(0,r.jsxs)("div",{style:S.form,children:[(0,r.jsxs)("label",{style:S.fieldLabel,children:["Date",(0,r.jsx)("input",{type:"date",value:W,onChange:e=>T(e.target.value),max:(0,g._G)(),style:S.input})]}),(0,r.jsxs)("label",{style:S.fieldLabel,children:["Uric Acid Level (mg/dL)",(0,r.jsx)("input",{type:"number",step:"0.1",min:"0",max:"20",placeholder:"e.g. 5.8",value:M,onChange:e=>{B(e.target.value),N("")},style:S.input})]}),(0,r.jsxs)("label",{style:S.fieldLabel,children:["Notes (optional)",(0,r.jsx)("textarea",{value:D,onChange:e=>R(e.target.value),placeholder:"Any notes about this reading...",rows:3,style:S.textarea})]}),A&&(0,r.jsx)("p",{style:S.formError,children:A}),(0,r.jsx)("button",{onClick:_,style:S.saveButton,children:"Save Reading"})]})})]})}let S={page:{minHeight:"100vh",paddingBottom:"100px"},content:{padding:"0 16px 24px",maxWidth:"600px",margin:"0 auto"},addButton:{width:"36px",height:"36px",borderRadius:"50%",border:"none",background:"#1a56db",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",flexShrink:0},heroSection:{display:"flex",flexDirection:"column",alignItems:"center",padding:"28px 0 20px"},heroCircle:{width:"140px",height:"140px",borderRadius:"50%",border:"4px solid",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",marginBottom:"12px"},heroValue:{fontSize:"36px",fontWeight:700,color:"var(--foreground, #171717)",lineHeight:1.1},heroUnit:{fontSize:"13px",color:"#94a3b8",marginTop:"2px"},heroStatus:{fontSize:"18px",fontWeight:600,margin:"4px 0 2px"},heroDate:{fontSize:"13px",color:"#64748b",margin:"2px 0"},heroTarget:{fontSize:"12px",color:"#94a3b8",marginTop:"4px"},emptyHero:{display:"flex",flexDirection:"column",alignItems:"center",gap:"8px"},emptyCircle:{width:"140px",height:"140px",borderRadius:"50%",border:"4px solid #e2e8f0",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",marginBottom:"8px"},emptyDash:{fontSize:"36px",fontWeight:700,color:"#cbd5e1",lineHeight:1.1},emptyText:{fontSize:"16px",color:"#94a3b8",fontWeight:500},emptyAddButton:{marginTop:"8px",padding:"10px 24px",borderRadius:"10px",border:"none",background:"#1a56db",color:"#fff",fontSize:"14px",fontWeight:600,cursor:"pointer"},section:{marginTop:"24px"},sectionTitle:{fontSize:"17px",fontWeight:700,color:"var(--foreground, #171717)",marginBottom:"12px"},periodSelector:{display:"flex",gap:"6px",marginBottom:"14px",overflowX:"auto"},periodButton:{padding:"6px 12px",borderRadius:"8px",border:"1px solid #e2e8f0",background:"transparent",color:"#64748b",fontSize:"12px",fontWeight:500,cursor:"pointer",whiteSpace:"nowrap"},periodButtonActive:{background:"#1a56db",color:"#fff",borderColor:"#1a56db"},chartWrapper:{width:"100%",height:"260px"},noDataText:{textAlign:"center",color:"#94a3b8",fontSize:"14px",padding:"40px 0"},statsGrid:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"10px"},statCard:{background:"var(--background, #fff)",border:"1px solid #e2e8f0",borderRadius:"12px",padding:"14px 12px",display:"flex",flexDirection:"column",gap:"4px"},statLabel:{fontSize:"11px",color:"#94a3b8",fontWeight:500,textTransform:"uppercase",letterSpacing:"0.5px"},statValue:{fontSize:"18px",fontWeight:700,color:"var(--foreground, #171717)"},statUnit:{fontSize:"12px",fontWeight:400,color:"#94a3b8"},historyList:{display:"flex",flexDirection:"column",gap:"2px"},historyItem:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"14px 12px",borderRadius:"10px",background:"var(--background, #fff)",border:"1px solid #e2e8f0",marginBottom:"8px"},historyLeft:{display:"flex",alignItems:"center",gap:"12px",flex:1,minWidth:0},historyDot:{width:"12px",height:"12px",borderRadius:"50%",flexShrink:0},historyValue:{fontSize:"15px",fontWeight:600,color:"var(--foreground, #171717)",margin:0},historyDate:{fontSize:"12px",color:"#64748b",margin:"2px 0 0"},historyNotes:{fontSize:"12px",color:"#94a3b8",margin:"2px 0 0",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"220px"},historyRight:{flexShrink:0,marginLeft:"8px"},deleteButton:{background:"none",border:"none",color:"#94a3b8",cursor:"pointer",padding:"4px",borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center"},deleteConfirm:{display:"flex",alignItems:"center",gap:"6px"},deleteConfirmText:{fontSize:"12px",color:"#ef4444",fontWeight:500},deleteYes:{padding:"4px 10px",borderRadius:"6px",border:"none",background:"#ef4444",color:"#fff",fontSize:"12px",fontWeight:600,cursor:"pointer"},deleteNo:{padding:"4px 10px",borderRadius:"6px",border:"1px solid #e2e8f0",background:"transparent",color:"#64748b",fontSize:"12px",fontWeight:500,cursor:"pointer"},form:{display:"flex",flexDirection:"column",gap:"16px"},fieldLabel:{display:"flex",flexDirection:"column",gap:"6px",fontSize:"14px",fontWeight:600,color:"var(--foreground, #171717)"},input:{padding:"10px 12px",borderRadius:"10px",border:"1px solid #e2e8f0",fontSize:"15px",fontWeight:400,color:"var(--foreground, #171717)",background:"var(--background, #fff)",outline:"none",width:"100%"},textarea:{padding:"10px 12px",borderRadius:"10px",border:"1px solid #e2e8f0",fontSize:"15px",fontWeight:400,color:"var(--foreground, #171717)",background:"var(--background, #fff)",outline:"none",resize:"vertical",fontFamily:"inherit",width:"100%"},formError:{fontSize:"13px",color:"#ef4444",fontWeight:500,margin:0},saveButton:{padding:"12px",borderRadius:"10px",border:"none",background:"#1a56db",color:"#fff",fontSize:"15px",fontWeight:600,cursor:"pointer",marginTop:"4px"}}}},function(e){e.O(0,[90,661,971,117,744],function(){return e(e.s=4806)}),_N_E=e.O()}]);
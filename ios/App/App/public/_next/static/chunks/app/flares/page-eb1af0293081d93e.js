(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[592],{8257:function(e,t,r){Promise.resolve().then(r.bind(r,2051))},2051:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return x}});var n=r(7437),i=r(2265),o=r(7795),l=r(308);let a=["Big toe (left)","Big toe (right)","Ankle (left)","Ankle (right)","Knee (left)","Knee (right)","Wrist (left)","Wrist (right)","Finger","Elbow (left)","Elbow (right)","Other"],s=["Red meat","Seafood","Alcohol (beer)","Alcohol (wine/spirits)","High-fructose drinks","Dehydration","Stress","Injury/trauma","Surgery","Illness","Weather change","New medication","Missed medication","Intense exercise","Other"],d=["Colchicine","NSAIDs (ibuprofen/naproxen)","Prednisone","Ice/cold pack","Rest/elevation","Cherry juice","Prescription (other)","OTC pain relief","Other"],c={1:"Minimal",2:"",3:"Mild",4:"",5:"Moderate",6:"",7:"Severe",8:"",9:"Extreme",10:"Worst"};function u(){let e=new Date;return"".concat(e.getFullYear(),"-").concat(String(e.getMonth()+1).padStart(2,"0"),"-").concat(String(e.getDate()).padStart(2,"0"))}function g(e){if(!e)return{value:0,unit:"hours"};let t=e.match(/^(\d+(?:\.\d+)?)\s*(hours?|days?)$/i);if(t)return{value:parseFloat(t[1]),unit:t[2].toLowerCase().startsWith("day")?"days":"hours"};let r=parseFloat(e);return{value:isNaN(r)?0:r,unit:"hours"}}function h(e){let{value:t,unit:r}=g(e);return"days"===r?24*t:t}function p(){return{date:u(),time:function(){let e=new Date;return"".concat(String(e.getHours()).padStart(2,"0"),":").concat(String(e.getMinutes()).padStart(2,"0"))}(),joints:[],otherJoint:"",painLevel:5,triggers:[],otherTrigger:"",treatments:[],otherTreatment:"",durationValue:0,durationUnit:"hours",notes:"",resolved:!1}}function f(e,t){var r,n;let i=[...e.joints];i.includes("Other")&&e.otherJoint.trim()&&(i[i.indexOf("Other")]="Other: ".concat(e.otherJoint.trim()));let l=[...e.triggers];l.includes("Other")&&e.otherTrigger.trim()&&(l[l.indexOf("Other")]="Other: ".concat(e.otherTrigger.trim()));let a=[...e.treatments];return a.includes("Other")&&e.otherTreatment.trim()&&(a[a.indexOf("Other")]="Other: ".concat(e.otherTreatment.trim())),{id:t||(0,o.Ox)(),date:e.date,time:e.time,joints:i,painLevel:e.painLevel,duration:e.durationValue>0?(r=e.durationValue,n=e.durationUnit,r<=0?"":"days"===n?"".concat(r," ").concat(1===r?"day":"days"):"".concat(r," ").concat(1===r?"hour":"hours")):"",triggers:l,treatments:a,notes:e.notes.trim(),resolved:e.resolved,resolvedDate:e.resolved?u():void 0}}function x(){var e,t;let[r,u]=(0,i.useState)([]),[x,S]=(0,i.useState)(!1),[k,C]=(0,i.useState)(!1),[L,w]=(0,i.useState)(null),[N,W]=(0,i.useState)(p),[O,T]=(0,i.useState)(null),[A,B]=(0,i.useState)(null),[z,M]=(0,i.useState)("history");(0,i.useEffect)(()=>{u((0,o.Me)()),S(!0)},[]);let D=(0,i.useMemo)(()=>[...r].sort((e,t)=>{let r=t.date.localeCompare(e.date);return 0!==r?r:(t.time||"").localeCompare(e.time||"")}),[r]),R=(0,i.useMemo)(()=>{var e,t;if(0===r.length)return{total:0,avgPain:0,commonJoint:"-",daysSinceLast:null};let n=r.reduce((e,t)=>e+t.painLevel,0)/r.length,i={};r.forEach(e=>{e.joints.forEach(e=>{let t=e.startsWith("Other:")?"Other":e;i[t]=(i[t]||0)+1})});let o=(null===(e=Object.entries(i).sort((e,t)=>t[1]-e[1])[0])||void 0===e?void 0:e[0])||"-",l=(null===(t=D[0])||void 0===t?void 0:t.date)||"",a=l?function(e){let t=new Date(e);return Math.max(0,Math.floor((new Date().getTime()-t.getTime())/864e5))}(l):null;return{total:r.length,avgPain:n,commonJoint:o,daysSinceLast:a}},[r,D]),I=(0,i.useMemo)(()=>{if(r.length<3)return null;let e={};r.forEach(t=>{let r=t.date.substring(0,7);e[r]=(e[r]||0)+1});let t=Object.entries(e).sort((e,t)=>t[0].localeCompare(e[0])).slice(0,12).reverse(),n={};r.forEach(e=>{e.joints.forEach(e=>{let t=e.startsWith("Other:")?"Other":e;n[t]=(n[t]||0)+1})});let i=Object.values(n).reduce((e,t)=>e+t,0),o=Object.entries(n).sort((e,t)=>t[1]-e[1]).map(e=>{let[t,r]=e;return{joint:t,count:r,pct:Math.round(r/i*100)}}),l={};r.forEach(e=>{e.triggers.forEach(e=>{let t=e.startsWith("Other:")?"Other":e;l[t]=(l[t]||0)+1})});let a=Object.values(l).reduce((e,t)=>e+t,0)||1,s=Object.entries(l).sort((e,t)=>t[1]-e[1]).map(e=>{let[t,r]=e;return{trigger:t,count:r,pct:Math.round(r/a*100)}}),d=r.reduce((e,t)=>e+t.painLevel,0)/r.length,c=[...r].sort((e,t)=>e.date.localeCompare(t.date)),u=Math.floor(c.length/2),g=c.slice(0,u).reduce((e,t)=>e+t.painLevel,0)/u,p=c.slice(u).reduce((e,t)=>e+t.painLevel,0)/(c.length-u),f=r.filter(e=>e.duration),x=0;f.length>0&&(x=f.reduce((e,t)=>e+h(t.duration),0)/f.length);let y=f.sort((e,t)=>e.date.localeCompare(t.date)),v=0;if(y.length>=2){let e=Math.floor(y.length/2),t=y.slice(0,e).reduce((e,t)=>e+h(t.duration),0)/e;v=y.slice(e).reduce((e,t)=>e+h(t.duration),0)/(y.length-e)-t}return{flaresPerMonth:t,jointRanking:o,triggerRanking:s,avgPain:d,painTrend:p-g,avgDurationHours:x,durationTrend:v}},[r]);function F(){W(p()),w(null),C(!0)}function _(){C(!1),w(null),W(p())}function E(e,t){W(r=>{let n=r[e],i=n.includes(t)?n.filter(e=>e!==t):[...n,t];return{...r,[e]:i}})}function P(e){return e<=3?"#22c55e":e<=6?"#eab308":e<=8?"#f97316":"#ef4444"}function J(e){return e<=3?"#f0fdf4":e<=6?"#fefce8":e<=8?"#fff7ed":"#fef2f2"}function H(e,t){return(t?e<-.5:e>.5)?"#22c55e":(t?e>.5:e<-.5)?"#ef4444":"var(--color-gray-500)"}return x?0!==r.length||k?(0,n.jsxs)("div",{className:"page",style:{paddingTop:24},children:[(0,n.jsxs)("div",{style:{marginBottom:20},children:[(0,n.jsx)("h1",{style:{fontSize:24,fontWeight:700,color:"var(--foreground)",marginBottom:4},children:"Flare Logger"}),(0,n.jsx)("p",{style:{fontSize:14,color:"var(--color-gray-500)"},children:"Track and analyze your gout flares"})]}),!k&&r.length>0&&(0,n.jsxs)("div",{style:{marginBottom:20},children:[null!==R.daysSinceLast&&(0,n.jsxs)("div",{style:{background:0===R.daysSinceLast?"var(--color-red-bg)":R.daysSinceLast<=7?"var(--color-yellow-bg)":"var(--color-green-bg)",border:"1px solid var(--color-gray-200)",borderRadius:"var(--radius)",padding:"20px 16px",textAlign:"center",marginBottom:12},children:[(0,n.jsx)("div",{style:{fontSize:36,fontWeight:800,color:0===R.daysSinceLast?"#ef4444":R.daysSinceLast<=7?"#a16207":"#15803d",lineHeight:1.1},children:R.daysSinceLast}),(0,n.jsxs)("div",{style:{fontSize:13,fontWeight:500,color:"var(--color-gray-600)",marginTop:4},children:[1===R.daysSinceLast?"day":"days"," since last flare"]})]}),(0,n.jsxs)("div",{className:"grid-3",children:[(0,n.jsxs)("div",{className:"stat-card",children:[(0,n.jsx)("span",{className:"stat-label",children:"Total Flares"}),(0,n.jsx)("span",{className:"stat-value",children:R.total})]}),(0,n.jsxs)("div",{className:"stat-card",children:[(0,n.jsx)("span",{className:"stat-label",children:"Avg Pain"}),(0,n.jsx)("span",{className:"stat-value",style:{color:P(Math.round(R.avgPain))},children:R.avgPain.toFixed(1)}),(0,n.jsx)("span",{className:"stat-unit",children:"/ 10"})]}),(0,n.jsxs)("div",{className:"stat-card",children:[(0,n.jsx)("span",{className:"stat-label",children:"Top Joint"}),(0,n.jsx)("span",{className:"stat-value",style:{fontSize:14,lineHeight:1.4},children:R.commonJoint})]})]})]}),!k&&(0,n.jsxs)("button",{className:"btn btn-primary",onClick:F,style:{width:"100%",padding:"14px",fontSize:15,fontWeight:600,marginBottom:24},children:[(0,n.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,n.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,n.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Log New Flare"]}),k&&(0,n.jsxs)("div",{style:{background:"var(--color-gray-50)",border:"1px solid var(--color-gray-200)",borderRadius:"var(--radius)",padding:20,marginBottom:24},children:[(0,n.jsx)("h2",{style:{fontSize:18,fontWeight:600,marginBottom:20,color:"var(--foreground)"},children:L?"Edit Flare":"Log New Flare"}),(0,n.jsxs)("div",{style:{marginBottom:20},children:[(0,n.jsx)("label",{style:y,children:"Date & Time"}),(0,n.jsxs)("div",{style:{display:"flex",gap:10},children:[(0,n.jsx)("input",{type:"date",value:N.date,onChange:e=>W(t=>({...t,date:e.target.value})),style:{...v,flex:1}}),(0,n.jsx)("input",{type:"time",value:N.time,onChange:e=>W(t=>({...t,time:e.target.value})),style:{...v,flex:1}})]})]}),(0,n.jsxs)("div",{style:{marginBottom:20},children:[(0,n.jsxs)("label",{style:y,children:["Affected Joint(s) ",(0,n.jsx)("span",{style:{color:"#ef4444"},children:"*"})]}),(0,n.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:a.map(e=>(0,n.jsx)("button",{type:"button",onClick:()=>E("joints",e),style:{padding:"7px 14px",borderRadius:20,border:"1px solid",borderColor:N.joints.includes(e)?"var(--color-primary)":"var(--color-gray-200)",background:N.joints.includes(e)?"var(--color-primary-light)":"var(--background)",color:N.joints.includes(e)?"var(--color-primary)":"var(--foreground)",fontSize:13,fontWeight:500,cursor:"pointer",fontFamily:"inherit",transition:"all 0.15s"},children:e},e))}),N.joints.includes("Other")&&(0,n.jsx)("input",{type:"text",placeholder:"Specify other joint...",value:N.otherJoint,onChange:e=>W(t=>({...t,otherJoint:e.target.value})),style:{...v,marginTop:10,width:"100%"}}),0===N.joints.length&&(0,n.jsx)("p",{style:{fontSize:12,color:"#ef4444",marginTop:6},children:"Please select at least one joint"})]}),(0,n.jsxs)("div",{style:{marginBottom:20},children:[(0,n.jsxs)("label",{style:y,children:["Pain Level: ",(0,n.jsx)("span",{style:{fontWeight:700,color:P(N.painLevel)},children:N.painLevel}),c[N.painLevel]&&(0,n.jsxs)("span",{style:{fontWeight:400,color:"var(--color-gray-500)",marginLeft:6},children:["(",c[N.painLevel],")"]})]}),(0,n.jsx)("div",{style:{display:"flex",gap:4,marginBottom:8},children:[1,2,3,4,5,6,7,8,9,10].map(e=>(0,n.jsx)("button",{type:"button",onClick:()=>W(t=>({...t,painLevel:e})),style:{flex:1,padding:"10px 0",borderRadius:6,border:N.painLevel===e?"2px solid":"1px solid",borderColor:N.painLevel===e?P(e):"var(--color-gray-200)",background:N.painLevel===e?J(e):"var(--background)",color:N.painLevel===e?P(e):"var(--foreground)",fontSize:14,fontWeight:N.painLevel===e?700:500,cursor:"pointer",fontFamily:"inherit",transition:"all 0.15s"},children:e},e))}),(0,n.jsx)("div",{style:{height:6,borderRadius:3,background:"linear-gradient(to right, #22c55e 0%, #84cc16 25%, #eab308 50%, #f97316 75%, #ef4444 100%)",marginBottom:4}}),(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",fontSize:10,color:"var(--color-gray-400)"},children:[(0,n.jsx)("span",{children:"Minimal"}),(0,n.jsx)("span",{children:"Mild"}),(0,n.jsx)("span",{children:"Moderate"}),(0,n.jsx)("span",{children:"Severe"}),(0,n.jsx)("span",{children:"Worst"})]})]}),(0,n.jsxs)("div",{style:{marginBottom:20},children:[(0,n.jsx)("label",{style:y,children:"Possible Triggers"}),(0,n.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:s.map(e=>(0,n.jsx)("button",{type:"button",onClick:()=>E("triggers",e),style:{padding:"7px 14px",borderRadius:20,border:"1px solid",borderColor:N.triggers.includes(e)?"#f97316":"var(--color-gray-200)",background:N.triggers.includes(e)?"#fff7ed":"var(--background)",color:N.triggers.includes(e)?"#c2410c":"var(--foreground)",fontSize:13,fontWeight:500,cursor:"pointer",fontFamily:"inherit",transition:"all 0.15s"},children:e},e))}),N.triggers.includes("Other")&&(0,n.jsx)("input",{type:"text",placeholder:"Specify other trigger...",value:N.otherTrigger,onChange:e=>W(t=>({...t,otherTrigger:e.target.value})),style:{...v,marginTop:10,width:"100%"}})]}),(0,n.jsxs)("div",{style:{marginBottom:20},children:[(0,n.jsx)("label",{style:y,children:"Treatment Used"}),(0,n.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:d.map(e=>(0,n.jsx)("button",{type:"button",onClick:()=>E("treatments",e),style:{padding:"7px 14px",borderRadius:20,border:"1px solid",borderColor:N.treatments.includes(e)?"#3b82f6":"var(--color-gray-200)",background:N.treatments.includes(e)?"var(--color-blue-light)":"var(--background)",color:N.treatments.includes(e)?"#1d4ed8":"var(--foreground)",fontSize:13,fontWeight:500,cursor:"pointer",fontFamily:"inherit",transition:"all 0.15s"},children:e},e))}),N.treatments.includes("Other")&&(0,n.jsx)("input",{type:"text",placeholder:"Specify other treatment...",value:N.otherTreatment,onChange:e=>W(t=>({...t,otherTreatment:e.target.value})),style:{...v,marginTop:10,width:"100%"}})]}),(0,n.jsxs)("div",{style:{marginBottom:20},children:[(0,n.jsx)("label",{style:y,children:"Duration"}),(0,n.jsxs)("div",{style:{display:"flex",gap:10},children:[(0,n.jsx)("input",{type:"number",min:"0",step:"0.5",value:N.durationValue||"",placeholder:"0",onChange:e=>W(t=>({...t,durationValue:parseFloat(e.target.value)||0})),style:{...v,flex:1}}),(0,n.jsxs)("div",{style:{display:"flex",borderRadius:8,overflow:"hidden",border:"1px solid var(--color-gray-200)"},children:[(0,n.jsx)("button",{type:"button",onClick:()=>W(e=>({...e,durationUnit:"hours"})),style:{padding:"8px 16px",border:"none",background:"hours"===N.durationUnit?"var(--color-primary)":"var(--background)",color:"hours"===N.durationUnit?"#fff":"var(--foreground)",fontSize:13,fontWeight:500,cursor:"pointer",fontFamily:"inherit"},children:"Hours"}),(0,n.jsx)("button",{type:"button",onClick:()=>W(e=>({...e,durationUnit:"days"})),style:{padding:"8px 16px",border:"none",borderLeft:"1px solid var(--color-gray-200)",background:"days"===N.durationUnit?"var(--color-primary)":"var(--background)",color:"days"===N.durationUnit?"#fff":"var(--foreground)",fontSize:13,fontWeight:500,cursor:"pointer",fontFamily:"inherit"},children:"Days"})]})]})]}),(0,n.jsxs)("div",{style:{marginBottom:20},children:[(0,n.jsx)("label",{style:y,children:"Notes"}),(0,n.jsx)("textarea",{value:N.notes,onChange:e=>W(t=>({...t,notes:e.target.value})),placeholder:"Additional details about this flare...",rows:3,style:{...v,width:"100%",resize:"vertical",minHeight:72,lineHeight:1.5}})]}),(0,n.jsx)("div",{style:{marginBottom:24},children:(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px 16px",background:N.resolved?"var(--color-green-bg)":"var(--background)",border:"1px solid",borderColor:N.resolved?"#22c55e":"var(--color-gray-200)",borderRadius:"var(--radius-sm)"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{style:{fontSize:14,fontWeight:500,color:"var(--foreground)"},children:"Flare Resolved"}),(0,n.jsx)("p",{style:{fontSize:12,color:"var(--color-gray-500)",marginTop:2},children:"Mark this flare as no longer active"})]}),(0,n.jsx)("button",{type:"button",onClick:()=>W(e=>({...e,resolved:!e.resolved})),role:"switch","aria-checked":N.resolved,style:{width:48,height:28,borderRadius:14,border:"none",padding:2,cursor:"pointer",background:N.resolved?"#22c55e":"var(--color-gray-300)",transition:"background 0.2s",display:"flex",alignItems:"center",justifyContent:N.resolved?"flex-end":"flex-start",flexShrink:0},children:(0,n.jsx)("div",{style:{width:24,height:24,borderRadius:12,background:"#fff",boxShadow:"0 1px 3px rgba(0,0,0,0.2)",transition:"all 0.2s"}})})]})}),(0,n.jsxs)("div",{style:{display:"flex",gap:10},children:[(0,n.jsx)("button",{type:"button",className:"btn",onClick:_,style:{flex:1,padding:"12px",fontWeight:500},children:"Cancel"}),(0,n.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){if(0!==N.joints.length){if(L){let e=f(N,L);(0,o.CE)(e)}else{let e=f(N);(0,o.B0)(e)}u((0,o.Me)()),_()}},disabled:0===N.joints.length,style:{flex:1,padding:"12px",fontWeight:600,opacity:0===N.joints.length?.5:1,cursor:0===N.joints.length?"not-allowed":"pointer"},children:L?"Update Flare":"Save Flare"})]})]}),!k&&r.length>0&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{style:{display:"flex",borderBottom:"2px solid var(--color-gray-200)",marginBottom:16},children:[(0,n.jsxs)("button",{type:"button",onClick:()=>M("history"),style:{flex:1,padding:"10px 0",border:"none",background:"none",cursor:"pointer",fontFamily:"inherit",fontSize:14,fontWeight:600,color:"history"===z?"var(--color-primary)":"var(--color-gray-400)",borderBottom:"history"===z?"2px solid var(--color-primary)":"2px solid transparent",marginBottom:-2,transition:"color 0.15s"},children:["History (",r.length,")"]}),(0,n.jsx)("button",{type:"button",onClick:()=>M("analytics"),style:{flex:1,padding:"10px 0",border:"none",background:"none",cursor:"pointer",fontFamily:"inherit",fontSize:14,fontWeight:600,color:"analytics"===z?"var(--color-primary)":"var(--color-gray-400)",borderBottom:"analytics"===z?"2px solid var(--color-primary)":"2px solid transparent",marginBottom:-2,transition:"color 0.15s"},children:"Analytics"})]}),"history"===z&&(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:12,marginBottom:24},children:D.map(e=>{let t=O===e.id,r=A===e.id,i=(0,l.Rq)(e.painLevel);return(0,n.jsxs)("div",{style:{background:"var(--color-gray-50)",border:"1px solid var(--color-gray-200)",borderRadius:"var(--radius)",overflow:"hidden"},children:[(0,n.jsxs)("button",{type:"button",onClick:()=>T(t?null:e.id),style:{width:"100%",display:"flex",alignItems:"flex-start",gap:12,padding:16,border:"none",background:"none",cursor:"pointer",textAlign:"left",fontFamily:"inherit"},children:[(0,n.jsx)("div",{style:{width:44,height:44,borderRadius:10,background:J(e.painLevel),border:"2px solid ".concat(i),display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:(0,n.jsx)("span",{style:{fontSize:18,fontWeight:700,color:i},children:e.painLevel})}),(0,n.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:4},children:[(0,n.jsx)("span",{style:{fontSize:14,fontWeight:600,color:"var(--foreground)"},children:(0,l.p6)(e.date)}),e.time&&(0,n.jsx)("span",{style:{fontSize:12,color:"var(--color-gray-400)"},children:(0,l.mr)(e.time)}),(0,n.jsx)("span",{style:{marginLeft:"auto",padding:"2px 8px",borderRadius:999,fontSize:11,fontWeight:600,background:e.resolved?"var(--color-green-bg)":"var(--color-red-bg)",color:e.resolved?"#15803d":"#b91c1c"},children:e.resolved?"Resolved":"Active"})]}),(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:6,marginBottom:6},children:[(0,n.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"var(--color-gray-400)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,n.jsx)("path",{d:"M18 20a6 6 0 0 0-12 0"}),(0,n.jsx)("circle",{cx:"12",cy:"10",r:"4"})]}),(0,n.jsx)("span",{style:{fontSize:13,color:"var(--color-gray-600)"},children:e.joints.join(", ")})]}),(0,n.jsx)("div",{style:{height:4,borderRadius:2,background:"var(--color-gray-200)",marginBottom:8},children:(0,n.jsx)("div",{style:{height:"100%",width:"".concat(10*e.painLevel,"%"),borderRadius:2,background:i,transition:"width 0.3s"}})}),e.duration&&(0,n.jsxs)("div",{style:{fontSize:12,color:"var(--color-gray-500)",marginBottom:6},children:["Duration: ",e.duration]}),e.triggers.length>0&&(0,n.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:4,marginBottom:4},children:e.triggers.map((e,t)=>(0,n.jsx)("span",{className:"badge badge-orange",children:e},t))}),e.treatments.length>0&&(0,n.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:4},children:e.treatments.map((e,t)=>(0,n.jsx)("span",{className:"badge badge-green",children:e},t))})]}),(0,n.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"var(--color-gray-400)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{flexShrink:0,marginTop:4,transition:"transform 0.2s",transform:t?"rotate(180deg)":"rotate(0)"},children:(0,n.jsx)("polyline",{points:"6 9 12 15 18 9"})})]}),t&&(0,n.jsxs)("div",{style:{borderTop:"1px solid var(--color-gray-200)",padding:16},children:[(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12,marginBottom:16},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:m,children:"Date"}),(0,n.jsx)("div",{style:j,children:(0,l.p6)(e.date)})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:m,children:"Time"}),(0,n.jsx)("div",{style:j,children:e.time?(0,l.mr)(e.time):"-"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:m,children:"Pain Level"}),(0,n.jsxs)("div",{style:{...j,color:i},children:[e.painLevel,"/10",c[e.painLevel]&&" (".concat(c[e.painLevel],")")]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:m,children:"Duration"}),(0,n.jsx)("div",{style:j,children:e.duration||"-"})]}),(0,n.jsxs)("div",{style:{gridColumn:"1 / -1"},children:[(0,n.jsx)("div",{style:m,children:"Affected Joints"}),(0,n.jsx)("div",{style:j,children:e.joints.join(", ")})]}),e.triggers.length>0&&(0,n.jsxs)("div",{style:{gridColumn:"1 / -1"},children:[(0,n.jsx)("div",{style:m,children:"Triggers"}),(0,n.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:4,marginTop:2},children:e.triggers.map((e,t)=>(0,n.jsx)("span",{className:"badge badge-orange",children:e},t))})]}),e.treatments.length>0&&(0,n.jsxs)("div",{style:{gridColumn:"1 / -1"},children:[(0,n.jsx)("div",{style:m,children:"Treatments"}),(0,n.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:4,marginTop:2},children:e.treatments.map((e,t)=>(0,n.jsx)("span",{className:"badge badge-green",children:e},t))})]}),e.notes&&(0,n.jsxs)("div",{style:{gridColumn:"1 / -1"},children:[(0,n.jsx)("div",{style:m,children:"Notes"}),(0,n.jsx)("div",{style:{...j,whiteSpace:"pre-wrap",background:"var(--background)",padding:"8px 12px",borderRadius:6,border:"1px solid var(--color-gray-200)",marginTop:4},children:e.notes})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:m,children:"Status"}),(0,n.jsx)("div",{style:{...j,color:e.resolved?"#15803d":"#b91c1c",fontWeight:600},children:e.resolved?"Resolved":"Active"})]}),e.resolved&&e.resolvedDate&&(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:m,children:"Resolved On"}),(0,n.jsx)("div",{style:j,children:(0,l.p6)(e.resolvedDate)})]})]}),r?(0,n.jsxs)("div",{style:{padding:12,background:"var(--color-red-bg)",borderRadius:"var(--radius-sm)",border:"1px solid #fecaca"},children:[(0,n.jsx)("p",{style:{fontSize:13,fontWeight:500,color:"#b91c1c",marginBottom:10},children:"Are you sure you want to delete this flare entry? This cannot be undone."}),(0,n.jsxs)("div",{style:{display:"flex",gap:8},children:[(0,n.jsx)("button",{type:"button",className:"btn btn-sm",onClick:e=>{e.stopPropagation(),B(null)},style:{flex:1},children:"Cancel"}),(0,n.jsx)("button",{type:"button",className:"btn btn-sm",onClick:t=>{var r;t.stopPropagation(),r=e.id,(0,o.JQ)(r),u((0,o.Me)()),B(null),T(null)},style:{flex:1,background:"#ef4444",color:"#fff",borderColor:"#ef4444"},children:"Confirm Delete"})]})]}):(0,n.jsxs)("div",{style:{display:"flex",gap:10},children:[(0,n.jsxs)("button",{type:"button",className:"btn btn-sm",onClick:t=>{t.stopPropagation(),W(function(e){var t,r,n;let i=e.joints.map(e=>e.startsWith("Other:")?"Other":e),o=(null===(t=e.joints.find(e=>e.startsWith("Other:")))||void 0===t?void 0:t.replace("Other: ",""))||"",l=e.triggers.map(e=>e.startsWith("Other:")?"Other":e),a=(null===(r=e.triggers.find(e=>e.startsWith("Other:")))||void 0===r?void 0:r.replace("Other: ",""))||"",s=e.treatments.map(e=>e.startsWith("Other:")?"Other":e),d=(null===(n=e.treatments.find(e=>e.startsWith("Other:")))||void 0===n?void 0:n.replace("Other: ",""))||"",{value:c,unit:u}=g(e.duration);return{date:e.date,time:e.time,joints:i,otherJoint:o,painLevel:e.painLevel,triggers:l,otherTrigger:a,treatments:s,otherTreatment:d,durationValue:c,durationUnit:u,notes:e.notes,resolved:e.resolved}}(e)),w(e.id),C(!0)},style:{flex:1},children:[(0,n.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,n.jsx)("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),(0,n.jsx)("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),"Edit"]}),(0,n.jsxs)("button",{type:"button",className:"btn btn-sm",onClick:t=>{t.stopPropagation(),B(e.id)},style:{flex:1,color:"#ef4444",borderColor:"#fecaca"},children:[(0,n.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,n.jsx)("polyline",{points:"3 6 5 6 21 6"}),(0,n.jsx)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]}),"Delete"]})]})]})]},e.id)})}),"analytics"===z&&(0,n.jsx)("div",{style:{marginBottom:24},children:I?(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:16},children:[(0,n.jsxs)("div",{className:"card",children:[(0,n.jsx)("h3",{style:b,children:"Flares Per Month"}),(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:8},children:I.flaresPerMonth.map(e=>{let[t,r]=e,i=Math.max(...I.flaresPerMonth.map(e=>{let[,t]=e;return t})),o=i>0?r/i*100:0,[l,a]=t.split("-"),s="".concat(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][parseInt(a,10)-1]," ").concat(l);return(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10},children:[(0,n.jsx)("span",{style:{fontSize:12,color:"var(--color-gray-500)",width:60,textAlign:"right",flexShrink:0},children:s}),(0,n.jsx)("div",{style:{flex:1,height:20,background:"var(--color-gray-200)",borderRadius:4,overflow:"hidden"},children:(0,n.jsx)("div",{style:{height:"100%",width:"".concat(o,"%"),background:r>=3?"#ef4444":r>=2?"#f97316":"var(--color-primary)",borderRadius:4,minWidth:r>0?20:0,display:"flex",alignItems:"center",justifyContent:"flex-end",paddingRight:6,transition:"width 0.3s"},children:(0,n.jsx)("span",{style:{fontSize:11,fontWeight:600,color:"#fff"},children:r})})})]},t)})})]}),(0,n.jsxs)("div",{className:"grid-2",children:[(0,n.jsxs)("div",{className:"card",style:{textAlign:"center"},children:[(0,n.jsx)("h3",{style:b,children:"Avg Pain Level"}),(0,n.jsx)("div",{style:{fontSize:32,fontWeight:700,color:P(Math.round(I.avgPain)),lineHeight:1.2,marginBottom:4},children:I.avgPain.toFixed(1)}),(0,n.jsx)("div",{style:{fontSize:12,color:"var(--color-gray-400)",marginBottom:6},children:"out of 10"}),(0,n.jsxs)("div",{style:{fontSize:12,fontWeight:500,color:H(I.painTrend,!0)},children:[I.painTrend>.5?"Trending up":I.painTrend<-.5?"Trending down":"Stable",I.painTrend>.5&&(0,n.jsxs)("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",style:{marginLeft:4,verticalAlign:"middle"},children:[(0,n.jsx)("line",{x1:"12",y1:"19",x2:"12",y2:"5"}),(0,n.jsx)("polyline",{points:"5 12 12 5 19 12"})]}),I.painTrend<-.5&&(0,n.jsxs)("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",style:{marginLeft:4,verticalAlign:"middle"},children:[(0,n.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,n.jsx)("polyline",{points:"19 12 12 19 5 12"})]})]})]}),(0,n.jsxs)("div",{className:"card",style:{textAlign:"center"},children:[(0,n.jsx)("h3",{style:b,children:"Avg Duration"}),(0,n.jsx)("div",{style:{fontSize:32,fontWeight:700,color:"var(--foreground)",lineHeight:1.2,marginBottom:4},children:I.avgDurationHours>0?(e=I.avgDurationHours)<24?"".concat(e.toFixed(1)," hrs"):"".concat((e/24).toFixed(1)," days"):"-"}),(0,n.jsx)("div",{style:{fontSize:12,color:"var(--color-gray-400)",marginBottom:6},children:I.avgDurationHours>0?"per flare":"no data"}),I.avgDurationHours>0&&(0,n.jsxs)("div",{style:{fontSize:12,fontWeight:500,color:H(I.durationTrend,!0)},children:[(t=I.durationTrend)>.5?"Increasing":t<-.5?"Decreasing":"Stable",I.durationTrend>.5&&(0,n.jsxs)("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",style:{marginLeft:4,verticalAlign:"middle"},children:[(0,n.jsx)("line",{x1:"12",y1:"19",x2:"12",y2:"5"}),(0,n.jsx)("polyline",{points:"5 12 12 5 19 12"})]}),I.durationTrend<-.5&&(0,n.jsxs)("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",style:{marginLeft:4,verticalAlign:"middle"},children:[(0,n.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,n.jsx)("polyline",{points:"19 12 12 19 5 12"})]})]})]})]}),(0,n.jsxs)("div",{className:"card",children:[(0,n.jsx)("h3",{style:b,children:"Most Affected Joints"}),(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:10},children:I.jointRanking.map((e,t)=>{let{joint:r,count:i,pct:o}=e;return(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:4},children:[(0,n.jsxs)("span",{style:{fontSize:13,fontWeight:500,color:"var(--foreground)"},children:[(0,n.jsxs)("span",{style:{display:"inline-block",width:20,fontSize:12,color:"var(--color-gray-400)"},children:[t+1,"."]}),r]}),(0,n.jsxs)("span",{style:{fontSize:12,color:"var(--color-gray-500)"},children:[i,"x (",o,"%)"]})]}),(0,n.jsx)("div",{className:"progress-bar",style:{height:8},children:(0,n.jsx)("div",{className:"progress-fill",style:{width:"".concat(o,"%"),background:0===t?"#ef4444":1===t?"#f97316":"var(--color-primary)"}})})]},r)})})]}),I.triggerRanking.length>0&&(0,n.jsxs)("div",{className:"card",children:[(0,n.jsx)("h3",{style:b,children:"Common Triggers"}),(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:10},children:I.triggerRanking.map((e,t)=>{let{trigger:r,count:i,pct:o}=e;return(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:4},children:[(0,n.jsxs)("span",{style:{fontSize:13,fontWeight:500,color:"var(--foreground)"},children:[(0,n.jsxs)("span",{style:{display:"inline-block",width:20,fontSize:12,color:"var(--color-gray-400)"},children:[t+1,"."]}),r]}),(0,n.jsxs)("span",{style:{fontSize:12,color:"var(--color-gray-500)"},children:[i,"x (",o,"%)"]})]}),(0,n.jsx)("div",{className:"progress-bar",style:{height:8},children:(0,n.jsx)("div",{className:"progress-fill",style:{width:"".concat(o,"%"),background:0===t?"#f97316":1===t?"#eab308":"var(--color-gray-400)"}})})]},r)})})]})]}):(0,n.jsxs)("div",{style:{textAlign:"center",padding:"48px 24px",background:"var(--color-gray-50)",border:"1px solid var(--color-gray-200)",borderRadius:"var(--radius)"},children:[(0,n.jsxs)("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"var(--color-gray-300)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",style:{marginBottom:12},children:[(0,n.jsx)("line",{x1:"18",y1:"20",x2:"18",y2:"10"}),(0,n.jsx)("line",{x1:"12",y1:"20",x2:"12",y2:"4"}),(0,n.jsx)("line",{x1:"6",y1:"20",x2:"6",y2:"14"})]}),(0,n.jsx)("h3",{style:{fontSize:16,fontWeight:600,color:"var(--foreground)",marginBottom:8},children:"Not enough data yet"}),(0,n.jsxs)("p",{style:{fontSize:14,color:"var(--color-gray-500)",lineHeight:1.5},children:["Log at least 3 flares to see meaningful analytics and patterns.",(0,n.jsx)("br",{}),"You currently have ",r.length," flare",1===r.length?"":"s"," logged."]})]})})]})]}):(0,n.jsxs)("div",{className:"page",style:{paddingTop:24},children:[(0,n.jsxs)("div",{style:{marginBottom:24},children:[(0,n.jsx)("h1",{style:{fontSize:24,fontWeight:700,color:"var(--foreground)",marginBottom:4},children:"Flare Logger"}),(0,n.jsx)("p",{style:{fontSize:14,color:"var(--color-gray-500)"},children:"Track and analyze your gout flares"})]}),(0,n.jsxs)("div",{style:{textAlign:"center",padding:"64px 24px",background:"var(--color-gray-50)",border:"1px solid var(--color-gray-200)",borderRadius:"var(--radius)"},children:[(0,n.jsx)("div",{style:{marginBottom:16},children:(0,n.jsxs)("svg",{width:"56",height:"56",viewBox:"0 0 24 24",fill:"none",stroke:"var(--color-gray-300)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,n.jsx)("path",{d:"M12 22c-4.97 0-9-2.69-9-6 0-4 5-10.5 9-13.5 4 3 9 9.5 9 13.5 0 3.31-4.03 6-9 6z"}),(0,n.jsx)("path",{d:"M12 22c-1.66 0-3-1.34-3-3 0-2 2-5 3-6.5 1 1.5 3 4.5 3 6.5 0 1.66-1.34 3-3 3z"})]})}),(0,n.jsx)("h2",{style:{fontSize:18,fontWeight:600,color:"var(--foreground)",marginBottom:8},children:"No flares logged yet"}),(0,n.jsxs)("p",{style:{fontSize:14,color:"var(--color-gray-500)",marginBottom:24,lineHeight:1.6},children:["Track your gout flares to identify patterns and triggers.",(0,n.jsx)("br",{}),"Consistent logging helps you and your doctor manage your condition more effectively."]}),(0,n.jsxs)("button",{className:"btn btn-primary",style:{padding:"12px 28px",fontSize:15,fontWeight:600},onClick:F,children:[(0,n.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,n.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,n.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Log Your First Flare"]})]})]}):(0,n.jsx)("div",{className:"page",style:{paddingTop:24},children:(0,n.jsx)("div",{style:{textAlign:"center",padding:"48px 16px",color:"var(--color-gray-400)"},children:"Loading..."})})}let y={display:"block",fontSize:13,fontWeight:600,color:"var(--color-gray-600)",marginBottom:8,textTransform:"uppercase",letterSpacing:"0.03em"},v={padding:"10px 12px",border:"1px solid var(--color-gray-200)",borderRadius:8,fontSize:14,fontFamily:"inherit",background:"var(--background)",color:"var(--foreground)",outline:"none"},m={fontSize:11,fontWeight:600,color:"var(--color-gray-400)",textTransform:"uppercase",letterSpacing:"0.04em",marginBottom:2},j={fontSize:14,fontWeight:500,color:"var(--foreground)"},b={fontSize:14,fontWeight:600,color:"var(--color-gray-600)",marginBottom:12,textTransform:"uppercase",letterSpacing:"0.03em"}},308:function(e,t,r){"use strict";r.d(t,{Lc:function(){return c},Rq:function(){return d},Ti:function(){return a},c4:function(){return s},mn:function(){return o},mr:function(){return l},o1:function(){return u},p6:function(){return i}});let n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function i(e){let[t,r,i]=e.split("-").map(Number);return t&&r&&i?"".concat(n[r-1]," ").concat(i,", ").concat(t):e}function o(e){let[,t,r]=e.split("-").map(Number);return t&&r?"".concat(n[t-1]," ").concat(r):e}function l(e){let t,r;if(e.includes("T")){let n=new Date(e);t=n.getHours(),r=n.getMinutes()}else{var n,i;let o=e.split(":").map(Number);t=null!==(n=o[0])&&void 0!==n?n:0,r=null!==(i=o[1])&&void 0!==i?i:0}let o=t>=12?"PM":"AM",l=t%12||12,a=String(r).padStart(2,"0");return"".concat(l,":").concat(a," ").concat(o)}function a(e,t){let r=new Date(e);return Math.floor(Math.abs(new Date(t).getTime()-r.getTime())/864e5)}function s(e){return e<6?"#22c55e":e<7?"#eab308":e<9?"#f97316":"#ef4444"}function d(e){return e<=2?"#22c55e":e<=4?"#84cc16":e<=6?"#eab308":e<=8?"#f97316":"#ef4444"}function c(e){return e<1?"<1 mg":"".concat(Math.round(e)," mg")}function u(e){let t=[],r=new Date;for(let n=e-1;n>=0;n--){let e=new Date(r);e.setDate(r.getDate()-n),t.push(function(e){let t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(r,"-").concat(n)}(e))}return t}},7795:function(e,t,r){"use strict";r.d(t,{$$:function(){return T},AB:function(){return x},Ai:function(){return c},B0:function(){return j},C6:function(){return B},CE:function(){return b},Cg:function(){return A},E6:function(){return f},Gg:function(){return p},H1:function(){return O},HS:function(){return W},Ii:function(){return u},JB:function(){return w},JQ:function(){return S},Me:function(){return m},Op:function(){return k},Ox:function(){return a},RM:function(){return N},UA:function(){return L},_G:function(){return s},_X:function(){return z},mz:function(){return v},pI:function(){return h},tG:function(){return C},uP:function(){return y}});let n={DAILY_LOGS:"goutguard_daily_logs",URIC_ACID:"goutguard_uric_acid",FLARES:"goutguard_flares",MEDICATIONS:"goutguard_medications",PROFILE:"goutguard_profile",SCANS:"goutguard_scans",SCAN_COUNT:"goutguard_scan_count",FAVORITES:"goutguard_favorites",SAVED_MEALS:"goutguard_saved_meals"};function i(){try{let e="__goutguard_test__";return window.localStorage.setItem(e,"1"),window.localStorage.removeItem(e),!0}catch(e){return!1}}function o(e,t){if(!i())return t;try{let r=localStorage.getItem(e);if(null===r)return t;return JSON.parse(r)}catch(e){return t}}function l(e,t){if(i())try{localStorage.setItem(e,JSON.stringify(t))}catch(e){}}function a(){return"".concat(Date.now().toString(36),"_").concat(Math.random().toString(36).substring(2,9))}function s(){let e=new Date,t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(r,"-").concat(n)}let d={goutStage:"",medications:[],allergies:[],dietaryRestrictions:[],dailyPurineTarget:400,waterIntakeGoal:64,theme:"system",notificationsEnabled:!0,waterReminders:!0,medicationReminders:!0};function c(){return o(n.PROFILE,{...d})}function u(e){l(n.PROFILE,e)}function g(){return o(n.DAILY_LOGS,{})}function h(e){var t;return null!==(t=g()[e])&&void 0!==t?t:{date:e,foods:[],totalPurines:0,waterIntake:0,medications:[]}}function p(e){let t=g();t[e.date]=e,l(n.DAILY_LOGS,t)}function f(e,t){let r=h(e);r.foods.push(t),r.totalPurines=r.foods.reduce((e,t)=>e+t.purineContent,0),p(r)}function x(){return o(n.URIC_ACID,[])}function y(e){let t=x();t.push(e),t.sort((e,t)=>t.date.localeCompare(e.date)),l(n.URIC_ACID,t)}function v(e){let t=x().filter(t=>t.id!==e);l(n.URIC_ACID,t)}function m(){return o(n.FLARES,[])}function j(e){let t=m();t.push(e),t.sort((e,t)=>t.date.localeCompare(e.date)),l(n.FLARES,t)}function b(e){let t=m().map(t=>t.id===e.id?e:t);l(n.FLARES,t)}function S(e){let t=m().filter(t=>t.id!==e);l(n.FLARES,t)}function k(){return o(n.MEDICATIONS,[])}function C(e){let t=k();t.push(e),l(n.MEDICATIONS,t)}function L(e){let t=k().map(t=>t.id===e.id?e:t);l(n.MEDICATIONS,t)}function w(e){let t=k().filter(t=>t.id!==e);l(n.MEDICATIONS,t)}function N(e){let t=h(s());t.medications.push(e),p(t)}function W(){return o(n.SCANS,[])}function O(e){let t=W();t.unshift(e),t.length>50&&(t.length=50),l(n.SCANS,t)}function T(){let e=o(n.SCAN_COUNT,{date:"",count:0});return e.date!==s()?0:e.count}function A(){let e=s(),t=o(n.SCAN_COUNT,{date:"",count:0});t.date!==e?l(n.SCAN_COUNT,{date:e,count:1}):l(n.SCAN_COUNT,{date:e,count:t.count+1})}function B(){return{profile:c(),dailyLogs:g(),uricAcidReadings:x(),flares:m(),medications:k(),scanRecords:W(),savedMeals:o(n.SAVED_MEALS,[]),favorites:o(n.FAVORITES,[]),exportedAt:new Date().toISOString()}}function z(){i()&&Object.values(n).forEach(e=>{try{localStorage.removeItem(e)}catch(e){}})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=8257)}),_N_E=e.O()}]);
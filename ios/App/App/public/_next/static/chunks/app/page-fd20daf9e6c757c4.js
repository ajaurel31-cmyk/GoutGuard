(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4743:function(e,t,n){Promise.resolve().then(n.bind(n,7340))},7340:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(7437),o=n(2265),i=n(9376),a=n(7795),s=n(308);function l(e,t){let n=t>0?e/t:0;return n<.7?"var(--color-green)":n<.9?"var(--color-yellow)":"var(--color-red)"}function c(){return(0,r.jsxs)("svg",{className:"icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),(0,r.jsx)("circle",{cx:"12",cy:"13",r:"4"})]})}function u(){return(0,r.jsx)("svg",{className:"icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,r.jsx)("path",{d:"M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"})})}function d(){return(0,r.jsxs)("svg",{className:"icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),(0,r.jsx)("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),(0,r.jsx)("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]})}function m(){return(0,r.jsxs)("svg",{className:"icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("path",{d:"M17 8h1a4 4 0 1 1 0 8h-1"}),(0,r.jsx)("path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z"}),(0,r.jsx)("line",{x1:"6",y1:"2",x2:"6",y2:"4"}),(0,r.jsx)("line",{x1:"10",y1:"2",x2:"10",y2:"4"}),(0,r.jsx)("line",{x1:"14",y1:"2",x2:"14",y2:"4"})]})}function g(){var e,t,n,g,f,h;let x=(0,i.useRouter)(),[p,j]=(0,o.useState)(null),[y,v]=(0,o.useState)(null),[N,S]=(0,o.useState)(null),[w,b]=(0,o.useState)(null),[C,k]=(0,o.useState)(!1),[A,I]=(0,o.useState)(""),[_,L]=(0,o.useState)(!1);(0,o.useEffect)(()=>{let e=(0,a._G)(),t=(0,a.pI)(e),n=(0,a.Ai)(),r=(0,a.AB)(),o=(0,a.Me)();if(j(t),v(n),r.length>0&&S(r[0]),o.length>0){let t=o[0].date;b((0,s.Ti)(t,e))}L(!0)},[]);let R=null!==(t=null==y?void 0:y.dailyPurineTarget)&&void 0!==t?t:400,D=null!==(n=null==y?void 0:y.waterIntakeGoal)&&void 0!==n?n:64,M=null!==(g=null==p?void 0:p.totalPurines)&&void 0!==g?g:0,E=null!==(f=null==p?void 0:p.waterIntake)&&void 0!==f?f:0,T=R>0?Math.min(M/R*100,100):0,O=D>0?Math.min(E/D*100,100):0,z=null!==(h=null==p?void 0:null===(e=p.foods)||void 0===e?void 0:e.slice(-5).reverse())&&void 0!==h?h:[];function B(e){if(!p)return;let t={...p,waterIntake:p.waterIntake+e};(0,a.Gg)(t),j(t),k(!1),I("")}function F(){let e=parseInt(A,10);!isNaN(e)&&e>0&&B(e)}return _?(0,r.jsxs)("div",{className:"page",children:[(0,r.jsx)("section",{style:{marginBottom:24},children:(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:4},children:[(0,r.jsx)("img",{src:"/icon-192.png",alt:"GoutCare",width:44,height:44,style:{borderRadius:10}}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{style:{fontSize:26,fontWeight:700,marginBottom:2},children:function(){let e=new Date().getHours();return e<12?"Good morning":e<18?"Good afternoon":"Good evening"}()}),(0,r.jsx)("p",{style:{fontSize:14,color:"var(--color-gray-500)",margin:0},children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]})}),(0,r.jsxs)("section",{style:{marginBottom:24},children:[(0,r.jsx)("h2",{className:"section-title",children:"Daily Purine Intake"}),(0,r.jsxs)("div",{className:"card",children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"baseline",marginBottom:10},children:[(0,r.jsx)("span",{style:{fontSize:20,fontWeight:700,color:l(M,R)},children:M}),(0,r.jsxs)("span",{style:{fontSize:14,color:"var(--color-gray-500)"},children:["/ ",R," mg"]})]}),(0,r.jsx)("div",{className:"progress-bar",children:(0,r.jsx)("div",{className:"progress-fill",style:{width:"".concat(T,"%"),background:l(M,R)}})}),(0,r.jsx)("p",{style:{fontSize:12,color:"var(--color-gray-400)",marginTop:8,textAlign:"center"},children:T<70?"On track - keep it up!":T<90?"Approaching your daily limit":"Over your recommended daily limit"})]})]}),(0,r.jsxs)("section",{style:{marginBottom:24},children:[(0,r.jsx)("h2",{className:"section-title",children:"Quick Stats"}),(0,r.jsxs)("div",{className:"grid-3",children:[(0,r.jsxs)("div",{className:"stat-card",children:[(0,r.jsx)("span",{className:"stat-label",children:"Uric Acid"}),N?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"stat-value",style:{color:(0,s.c4)(N.value)},children:N.value}),(0,r.jsx)("span",{className:"stat-unit",children:"mg/dL"})]}):(0,r.jsx)("span",{style:{fontSize:13,color:"var(--color-gray-400)",marginTop:4},children:"No readings"})]}),(0,r.jsxs)("div",{className:"stat-card",children:[(0,r.jsx)("span",{className:"stat-label",children:"Since Flare"}),null!==w?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"stat-value",style:{color:w>30?"var(--color-green)":w>7?"var(--color-yellow)":"var(--color-red)"},children:w}),(0,r.jsx)("span",{className:"stat-unit",children:1===w?"day":"days"})]}):(0,r.jsx)("span",{style:{fontSize:13,color:"var(--color-gray-400)",marginTop:4},children:"No flares logged"})]}),(0,r.jsxs)("div",{className:"stat-card",children:[(0,r.jsx)("span",{className:"stat-label",children:"Water"}),(0,r.jsx)("span",{className:"stat-value",style:{color:E>=D?"var(--color-green)":"var(--color-blue)"},children:E}),(0,r.jsxs)("span",{className:"stat-unit",children:["/ ",D," oz"]})]})]})]}),(0,r.jsxs)("section",{style:{marginBottom:24},children:[(0,r.jsx)("h2",{className:"section-title",children:"Quick Actions"}),(0,r.jsxs)("div",{className:"grid-2",children:[(0,r.jsxs)("button",{className:"quick-action primary",onClick:()=>x.push("/scan"),children:[(0,r.jsx)(c,{}),"Scan Food"]}),(0,r.jsxs)("button",{className:"quick-action",onClick:()=>x.push("/uric-acid"),children:[(0,r.jsx)(u,{}),"Log Uric Acid"]}),(0,r.jsxs)("button",{className:"quick-action",onClick:()=>x.push("/flares"),children:[(0,r.jsx)(d,{}),"Log Flare"]}),(0,r.jsxs)("button",{className:"quick-action",onClick:()=>{let e=document.getElementById("water-section");e&&e.scrollIntoView({behavior:"smooth"})},children:[(0,r.jsx)(m,{}),"Log Water"]})]})]}),(0,r.jsxs)("section",{id:"water-section",style:{marginBottom:24},children:[(0,r.jsx)("h2",{className:"section-title",children:"Water Intake"}),(0,r.jsxs)("div",{className:"card",children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"baseline",marginBottom:10},children:[(0,r.jsxs)("span",{style:{fontSize:16,fontWeight:600,color:E>=D?"var(--color-green)":"var(--color-blue)"},children:[E," oz"]}),(0,r.jsxs)("span",{style:{fontSize:14,color:"var(--color-gray-500)"},children:["/ ",D," oz goal"]})]}),(0,r.jsx)("div",{className:"progress-bar",style:{marginBottom:14},children:(0,r.jsx)("div",{className:"progress-fill",style:{width:"".concat(O,"%"),background:E>=D?"var(--color-green)":"var(--color-blue)"}})}),(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr",gap:8},children:[(0,r.jsx)("button",{className:"water-btn",onClick:()=>B(8),children:"+8 oz"}),(0,r.jsx)("button",{className:"water-btn",onClick:()=>B(12),children:"+12 oz"}),(0,r.jsx)("button",{className:"water-btn",onClick:()=>B(16),children:"+16 oz"}),(0,r.jsx)("button",{className:"water-btn",onClick:()=>k(!C),style:{fontSize:13},children:"+Custom"})]}),C&&(0,r.jsxs)("div",{className:"water-input-row",children:[(0,r.jsx)("input",{type:"number",placeholder:"oz",min:"1",value:A,onChange:e=>I(e.target.value),onKeyDown:e=>{"Enter"===e.key&&F()},autoFocus:!0}),(0,r.jsx)("button",{className:"btn btn-primary btn-sm",onClick:F,children:"Add"})]}),E>=D&&(0,r.jsx)("p",{style:{textAlign:"center",fontSize:13,color:"var(--color-green)",marginTop:10,fontWeight:500},children:"Daily water goal reached!"})]})]}),(0,r.jsxs)("section",{style:{marginBottom:24},children:[(0,r.jsx)("h2",{className:"section-title",children:"Recent Food Log"}),(0,r.jsx)("div",{className:"card",children:z.length>0?(0,r.jsxs)(r.Fragment,{children:[z.map(e=>(0,r.jsxs)("div",{className:"food-log-item",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"food-name",children:e.foodName}),(0,r.jsxs)("div",{className:"food-purines",children:[e.purineContent," mg purines"]})]}),(0,r.jsx)("span",{className:function(e){let t=e.toLowerCase();return"low"===t?"badge badge-green":"moderate"===t||"medium"===t?"badge badge-yellow":"high"===t?"badge badge-orange":"very high"===t?"badge badge-red":"badge badge-yellow"}(e.purineLevel),children:e.purineLevel})]},e.id)),(0,r.jsx)("a",{href:"/foods",className:"view-all-link",children:"View all foods"})]}):(0,r.jsxs)("div",{className:"empty-state",children:[(0,r.jsxs)("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",style:{margin:"0 auto 10px",display:"block",opacity:.4},children:[(0,r.jsx)("path",{d:"M18 8h1a4 4 0 0 1 0 8h-1"}),(0,r.jsx)("path",{d:"M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"}),(0,r.jsx)("line",{x1:"6",y1:"1",x2:"6",y2:"4"}),(0,r.jsx)("line",{x1:"10",y1:"1",x2:"10",y2:"4"}),(0,r.jsx)("line",{x1:"14",y1:"1",x2:"14",y2:"4"})]}),(0,r.jsx)("p",{children:"No foods logged today."}),(0,r.jsx)("p",{style:{marginTop:4},children:"Scan or search to add foods."})]})})]}),(0,r.jsx)("footer",{className:"disclaimer",children:"GoutCare is not a substitute for professional medical advice. Always consult your doctor regarding your gout management plan."})]}):(0,r.jsx)("div",{className:"page",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,r.jsx)("p",{style:{color:"var(--color-gray-400)",fontSize:14},children:"Loading..."})})}},308:function(e,t,n){"use strict";n.d(t,{Lc:function(){return u},Rq:function(){return c},Ti:function(){return s},c4:function(){return l},mn:function(){return i},mr:function(){return a},o1:function(){return d},p6:function(){return o}});let r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function o(e){let[t,n,o]=e.split("-").map(Number);return t&&n&&o?"".concat(r[n-1]," ").concat(o,", ").concat(t):e}function i(e){let[,t,n]=e.split("-").map(Number);return t&&n?"".concat(r[t-1]," ").concat(n):e}function a(e){let t,n;if(e.includes("T")){let r=new Date(e);t=r.getHours(),n=r.getMinutes()}else{var r,o;let i=e.split(":").map(Number);t=null!==(r=i[0])&&void 0!==r?r:0,n=null!==(o=i[1])&&void 0!==o?o:0}let i=t>=12?"PM":"AM",a=t%12||12,s=String(n).padStart(2,"0");return"".concat(a,":").concat(s," ").concat(i)}function s(e,t){let n=new Date(e);return Math.floor(Math.abs(new Date(t).getTime()-n.getTime())/864e5)}function l(e){return e<6?"#22c55e":e<7?"#eab308":e<9?"#f97316":"#ef4444"}function c(e){return e<=2?"#22c55e":e<=4?"#84cc16":e<=6?"#eab308":e<=8?"#f97316":"#ef4444"}function u(e){return e<1?"<1 mg":"".concat(Math.round(e)," mg")}function d(e){let t=[],n=new Date;for(let r=e-1;r>=0;r--){let e=new Date(n);e.setDate(n.getDate()-r),t.push(function(e){let t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r)}(e))}return t}},7795:function(e,t,n){"use strict";n.d(t,{$$:function(){return L},AB:function(){return x},Ai:function(){return u},B0:function(){return v},C6:function(){return D},CE:function(){return N},Cg:function(){return R},E6:function(){return h},Gg:function(){return f},H1:function(){return _},HS:function(){return I},Ii:function(){return d},JB:function(){return k},JQ:function(){return S},Me:function(){return y},Op:function(){return w},Ox:function(){return s},RM:function(){return A},UA:function(){return C},_G:function(){return l},_X:function(){return M},mz:function(){return j},pI:function(){return g},tG:function(){return b},uP:function(){return p}});let r={DAILY_LOGS:"goutguard_daily_logs",URIC_ACID:"goutguard_uric_acid",FLARES:"goutguard_flares",MEDICATIONS:"goutguard_medications",PROFILE:"goutguard_profile",SCANS:"goutguard_scans",SCAN_COUNT:"goutguard_scan_count",FAVORITES:"goutguard_favorites",SAVED_MEALS:"goutguard_saved_meals"};function o(){try{let e="__goutguard_test__";return window.localStorage.setItem(e,"1"),window.localStorage.removeItem(e),!0}catch(e){return!1}}function i(e,t){if(!o())return t;try{let n=localStorage.getItem(e);if(null===n)return t;return JSON.parse(n)}catch(e){return t}}function a(e,t){if(o())try{localStorage.setItem(e,JSON.stringify(t))}catch(e){}}function s(){return"".concat(Date.now().toString(36),"_").concat(Math.random().toString(36).substring(2,9))}function l(){let e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r)}let c={goutStage:"",medications:[],allergies:[],dietaryRestrictions:[],dailyPurineTarget:400,waterIntakeGoal:64,theme:"system",notificationsEnabled:!0,waterReminders:!0,waterReminderInterval:2,waterReminderStartTime:"08:00",waterReminderEndTime:"20:00",purineReminders:!0,purineReminderTime:"19:00",uricAcidReminders:!0,uricAcidReminderInterval:"weekly",uricAcidReminderDay:1,uricAcidReminderTime:"09:00",flareReminders:!0,flareReminderTime:"20:00",medicationReminders:!0};function u(){return i(r.PROFILE,{...c})}function d(e){a(r.PROFILE,e)}function m(){return i(r.DAILY_LOGS,{})}function g(e){var t;return null!==(t=m()[e])&&void 0!==t?t:{date:e,foods:[],totalPurines:0,waterIntake:0,medications:[]}}function f(e){let t=m();t[e.date]=e,a(r.DAILY_LOGS,t)}function h(e,t){let n=g(e);n.foods.push(t),n.totalPurines=n.foods.reduce((e,t)=>e+t.purineContent,0),f(n)}function x(){return i(r.URIC_ACID,[])}function p(e){let t=x();t.push(e),t.sort((e,t)=>t.date.localeCompare(e.date)),a(r.URIC_ACID,t)}function j(e){let t=x().filter(t=>t.id!==e);a(r.URIC_ACID,t)}function y(){return i(r.FLARES,[])}function v(e){let t=y();t.push(e),t.sort((e,t)=>t.date.localeCompare(e.date)),a(r.FLARES,t)}function N(e){let t=y().map(t=>t.id===e.id?e:t);a(r.FLARES,t)}function S(e){let t=y().filter(t=>t.id!==e);a(r.FLARES,t)}function w(){return i(r.MEDICATIONS,[])}function b(e){let t=w();t.push(e),a(r.MEDICATIONS,t)}function C(e){let t=w().map(t=>t.id===e.id?e:t);a(r.MEDICATIONS,t)}function k(e){let t=w().filter(t=>t.id!==e);a(r.MEDICATIONS,t)}function A(e){let t=g(l());t.medications.push(e),f(t)}function I(){return i(r.SCANS,[])}function _(e){let t=I();t.unshift(e),t.length>50&&(t.length=50),a(r.SCANS,t)}function L(){let e=i(r.SCAN_COUNT,{date:"",count:0});return e.date!==l()?0:e.count}function R(){let e=l(),t=i(r.SCAN_COUNT,{date:"",count:0});t.date!==e?a(r.SCAN_COUNT,{date:e,count:1}):a(r.SCAN_COUNT,{date:e,count:t.count+1})}function D(){return{profile:u(),dailyLogs:m(),uricAcidReadings:x(),flares:y(),medications:w(),scanRecords:I(),savedMeals:i(r.SAVED_MEALS,[]),favorites:i(r.FAVORITES,[]),exportedAt:new Date().toISOString()}}function M(){o()&&Object.values(r).forEach(e=>{try{localStorage.removeItem(e)}catch(e){}})}},9376:function(e,t,n){"use strict";var r=n(5475);n.o(r,"usePathname")&&n.d(t,{usePathname:function(){return r.usePathname}}),n.o(r,"useRouter")&&n.d(t,{useRouter:function(){return r.useRouter}})}},function(e){e.O(0,[971,117,744],function(){return e(e.s=4743)}),_N_E=e.O()}]);
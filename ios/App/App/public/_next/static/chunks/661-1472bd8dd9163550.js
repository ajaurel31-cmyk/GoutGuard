"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[661],{4196:function(t,n,e){e.d(n,{Z:function(){return u}});var r=e(7437),o=e(9376);function u(t){let{title:n,showBack:e,rightAction:u}=t,i=(0,o.useRouter)();return(0,r.jsxs)("header",{className:"page-header",children:[(0,r.jsx)("div",{className:"page-header-left",children:e&&(0,r.jsx)("button",{className:"page-header-back",onClick:()=>i.back(),"aria-label":"Go back",children:(0,r.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,r.jsx)("polyline",{points:"15 18 9 12 15 6"})})})}),(0,r.jsx)("h1",{className:"page-header-title",children:n}),(0,r.jsx)("div",{className:"page-header-right",children:u||null})]})}},3583:function(t,n,e){e.d(n,{ToastProvider:function(){return a},p:function(){return i}});var r=e(7437),o=e(2265);let u=(0,o.createContext)(null);function i(){let t=(0,o.useContext)(u);if(!t)throw Error("useToast must be used within a ToastProvider");return t}function c(t){let{toast:n,onRemove:e}=t,[u,i]=(0,o.useState)(!1),c=(0,o.useRef)(null);(0,o.useEffect)(()=>(c.current=setTimeout(()=>{i(!0),setTimeout(()=>e(n.id),300)},3e3),()=>{c.current&&clearTimeout(c.current)}),[n.id,e]);let a="toast-".concat(n.type);return(0,r.jsxs)("div",{className:"toast-item ".concat(a," ").concat(u?"toast-exit":"toast-enter"),children:[(0,r.jsx)("span",{className:"toast-message",children:n.message}),(0,r.jsx)("button",{className:"toast-dismiss",onClick:()=>{i(!0),setTimeout(()=>e(n.id),300)},"aria-label":"Dismiss",children:(0,r.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,r.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})}function a(t){let{children:n}=t,[e,i]=(0,o.useState)([]),a=(0,o.useCallback)(t=>{i(n=>n.filter(n=>n.id!==t))},[]),s=(0,o.useCallback)(function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",e="".concat(Date.now(),"-").concat(Math.random().toString(36).substring(2,9));i(r=>[...r,{id:e,message:t,type:n}])},[]);return(0,r.jsxs)(u.Provider,{value:{showToast:s},children:[n,(0,r.jsx)("div",{className:"toast-container",children:e.map(t=>(0,r.jsx)(c,{toast:t,onRemove:a},t.id))})]})}},308:function(t,n,e){e.d(n,{Lc:function(){return l},Rq:function(){return s},Ti:function(){return c},c4:function(){return a},mn:function(){return u},mr:function(){return i},o1:function(){return f},p6:function(){return o}});let r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function o(t){let[n,e,o]=t.split("-").map(Number);return n&&e&&o?"".concat(r[e-1]," ").concat(o,", ").concat(n):t}function u(t){let[,n,e]=t.split("-").map(Number);return n&&e?"".concat(r[n-1]," ").concat(e):t}function i(t){let n,e;if(t.includes("T")){let r=new Date(t);n=r.getHours(),e=r.getMinutes()}else{var r,o;let u=t.split(":").map(Number);n=null!==(r=u[0])&&void 0!==r?r:0,e=null!==(o=u[1])&&void 0!==o?o:0}let u=n>=12?"PM":"AM",i=n%12||12,c=String(e).padStart(2,"0");return"".concat(i,":").concat(c," ").concat(u)}function c(t,n){let e=new Date(t);return Math.floor(Math.abs(new Date(n).getTime()-e.getTime())/864e5)}function a(t){return t<6?"#22c55e":t<7?"#eab308":t<9?"#f97316":"#ef4444"}function s(t){return t<=2?"#22c55e":t<=4?"#84cc16":t<=6?"#eab308":t<=8?"#f97316":"#ef4444"}function l(t){return t<1?"<1 mg":"".concat(Math.round(t)," mg")}function f(t){let n=[],e=new Date;for(let r=t-1;r>=0;r--){let t=new Date(e);t.setDate(e.getDate()-r),n.push(function(t){let n=t.getFullYear(),e=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return"".concat(n,"-").concat(e,"-").concat(r)}(t))}return n}},7795:function(t,n,e){e.d(n,{$$:function(){return T},AB:function(){return h},Ai:function(){return l},B0:function(){return _},C6:function(){return L},CE:function(){return I},Cg:function(){return b},E6:function(){return S},Gg:function(){return m},H1:function(){return R},HS:function(){return w},Ii:function(){return f},JB:function(){return E},JQ:function(){return N},Me:function(){return A},Op:function(){return v},Ox:function(){return c},RM:function(){return O},UA:function(){return x},_G:function(){return a},_X:function(){return M},mz:function(){return C},pI:function(){return g},tG:function(){return D},uP:function(){return p}});let r={DAILY_LOGS:"goutguard_daily_logs",URIC_ACID:"goutguard_uric_acid",FLARES:"goutguard_flares",MEDICATIONS:"goutguard_medications",PROFILE:"goutguard_profile",SCANS:"goutguard_scans",SCAN_COUNT:"goutguard_scan_count",FAVORITES:"goutguard_favorites",SAVED_MEALS:"goutguard_saved_meals"};function o(){try{let t="__goutguard_test__";return window.localStorage.setItem(t,"1"),window.localStorage.removeItem(t),!0}catch(t){return!1}}function u(t,n){if(!o())return n;try{let e=localStorage.getItem(t);if(null===e)return n;return JSON.parse(e)}catch(t){return n}}function i(t,n){if(o())try{localStorage.setItem(t,JSON.stringify(n))}catch(t){}}function c(){return"".concat(Date.now().toString(36),"_").concat(Math.random().toString(36).substring(2,9))}function a(){let t=new Date,n=t.getFullYear(),e=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return"".concat(n,"-").concat(e,"-").concat(r)}let s={goutStage:"",medications:[],allergies:[],dietaryRestrictions:[],dailyPurineTarget:400,waterIntakeGoal:64,theme:"system",notificationsEnabled:!0,waterReminders:!0,medicationReminders:!0};function l(){return u(r.PROFILE,{...s})}function f(t){i(r.PROFILE,t)}function d(){return u(r.DAILY_LOGS,{})}function g(t){var n;return null!==(n=d()[t])&&void 0!==n?n:{date:t,foods:[],totalPurines:0,waterIntake:0,medications:[]}}function m(t){let n=d();n[t.date]=t,i(r.DAILY_LOGS,n)}function S(t,n){let e=g(t);e.foods.push(n),e.totalPurines=e.foods.reduce((t,n)=>t+n.purineContent,0),m(e)}function h(){return u(r.URIC_ACID,[])}function p(t){let n=h();n.push(t),n.sort((t,n)=>n.date.localeCompare(t.date)),i(r.URIC_ACID,n)}function C(t){let n=h().filter(n=>n.id!==t);i(r.URIC_ACID,n)}function A(){return u(r.FLARES,[])}function _(t){let n=A();n.push(t),n.sort((t,n)=>n.date.localeCompare(t.date)),i(r.FLARES,n)}function I(t){let n=A().map(n=>n.id===t.id?t:n);i(r.FLARES,n)}function N(t){let n=A().filter(n=>n.id!==t);i(r.FLARES,n)}function v(){return u(r.MEDICATIONS,[])}function D(t){let n=v();n.push(t),i(r.MEDICATIONS,n)}function x(t){let n=v().map(n=>n.id===t.id?t:n);i(r.MEDICATIONS,n)}function E(t){let n=v().filter(n=>n.id!==t);i(r.MEDICATIONS,n)}function O(t){let n=g(a());n.medications.push(t),m(n)}function w(){return u(r.SCANS,[])}function R(t){let n=w();n.unshift(t),n.length>50&&(n.length=50),i(r.SCANS,n)}function T(){let t=u(r.SCAN_COUNT,{date:"",count:0});return t.date!==a()?0:t.count}function b(){let t=a(),n=u(r.SCAN_COUNT,{date:"",count:0});n.date!==t?i(r.SCAN_COUNT,{date:t,count:1}):i(r.SCAN_COUNT,{date:t,count:n.count+1})}function L(){return{profile:l(),dailyLogs:d(),uricAcidReadings:h(),flares:A(),medications:v(),scanRecords:w(),savedMeals:u(r.SAVED_MEALS,[]),favorites:u(r.FAVORITES,[]),exportedAt:new Date().toISOString()}}function M(){o()&&Object.values(r).forEach(t=>{try{localStorage.removeItem(t)}catch(t){}})}}}]);